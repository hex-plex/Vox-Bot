<?xml version="1.0"?>

<launch>
  <arg name="namesp" default="vox"/>

  <arg name="scan_topic" default="/$(arg namesp)/scan" />

  <group ns="$(arg namesp)">
    <node pkg="gmapping" type="slam_gmapping" name="slam_gmapping">
      <param name="odom_frame" value="/$(arg namesp)/odom"/>
      <param name="base_frame" value="/$(arg namesp)/dummy_link"/>
      <param name="map_frame"  value="/$(arg namesp)/map"/>
      <rosparam>
        map_update_interval: 0.5 # Publish new map
        transform_publish_period: 0.1

        maxUrange: 18.0 # Should be just less than sensor range
        maxRange: 20.0 # Should be just greater than sensor range

        particles: 100 # Increased from 80

        # Update frequencies
        linearUpdate: 0.1
        angularUpdate: 0.1
        temporalUpdate: 2.0
        resampleThreshold: 0.5

        # Initial Map Size
        xmin: -100.0
        ymin: -100.0
        xmax: 100.0
        ymax: 100.0
        delta: 0.05

        # All default
        sigma: 0.05
        kernelSize: 1
        lstep: 0.05
        astep: 0.05
        iterations: 5
        lsigma: 0.075
        ogain: 3.0
        lskip: 0
        llsamplerange: 0.01
        llsamplestep: 0.01
        lasamplerange: 0.005
        lasamplestep: 0.005

      </rosparam>
      <remap from="scan" to="$(arg scan_topic)"/>
    </node>
  </group>
</launch>
